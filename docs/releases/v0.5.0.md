# Release v0.5.0

**Release Date:** 2026-01-17

## Highlights

- **Multi-Agent-Spec Integration**: Report types now use canonical IR from `github.com/agentplexus/multi-agent-spec/sdk/go`
- **DAG-Aware Report Ordering**: Teams display in topological order (PM first, parallel teams alphabetically, Release last)
- **Unified Schema**: JSON output conforms to `team-report.schema.json` and `agent-result.schema.json`
- **Richer Metadata**: Reports include `GeneratedAt`, `GeneratedBy`, `$schema`, and per-team `Status` fields

## Changes

### Report Architecture

The report package has been refactored to use types from the multi-agent-spec SDK:

| Local Type (Removed) | Multi-Agent-Spec Type |
|---------------------|----------------------|
| `TeamStatusReport` | `multiagentspec.TeamReport` |
| `Team` | `multiagentspec.TeamSection` |
| `Check` | `multiagentspec.Check` |
| `Status` | `multiagentspec.Status` |

### DAG-Aware Sorting

Teams are now sorted according to the DAG workflow structure:

1. **PM Agent** - No dependencies, runs first
2. **Docs, QA, Security Agents** - Depend on PM, sorted alphabetically
3. **Release Agent** - Depends on all others, runs last

The `DependsOn` field in `TeamSection` tracks dependencies, and `SortByDAG()` performs topological sorting using Kahn's algorithm with alphabetical tie-breaking for deterministic output.

```go
// TeamConfig now includes DAG dependencies
type TeamConfig struct {
    Area      checks.ValidationArea
    ID        string
    Name      string
    DependsOn []string  // NEW: tracks upstream dependencies
}
```

### Enhanced Report Fields

Reports now include additional metadata:

```json
{
  "$schema": "https://raw.githubusercontent.com/agentplexus/multi-agent-spec/main/schema/report/team-report.schema.json",
  "project": "github.com/agentplexus/release-agent-team",
  "version": "v0.5.0",
  "generated_at": "2026-01-17T12:00:00Z",
  "generated_by": "release-agent-team",
  "status": "GO"
}
```

### Canonical Renderer

The box-format renderer is now provided by multi-agent-spec and automatically sorts teams by DAG order:

```go
import multiagentspec "github.com/agentplexus/multi-agent-spec/sdk/go"

renderer := multiagentspec.NewRenderer(os.Stdout)
renderer.Render(teamReport)  // Auto-sorts by DAG before rendering
```

## Bug Fixes

- Security checker now excludes itself from hardcoded secrets scan to prevent false positives

## Dependencies

- Updated: `github.com/agentplexus/multi-agent-spec/sdk/go` v0.1.2 with DAG sorting support

## Files Changed

### Removed

- `pkg/report/report.go` - Types now in multi-agent-spec
- `pkg/report/renderer.go` - Renderer now in multi-agent-spec
- `pkg/report/ir.go` - IR types now in multi-agent-spec

### Modified

- `pkg/report/convert.go` - Produces `multiagentspec.TeamReport` with `DependsOn` fields
- `pkg/report/teamspec.go` - Uses multiagentspec types
- `cmd/releaseagent/validate.go` - Uses `multiagentspec.NewRenderer`

## Usage

No changes to CLI usage. The `--format team` output now displays teams in DAG order:

```bash
release-agent-team validate --version=v0.5.0 --format team
```

## Full Changelog

See [CHANGELOG.md](https://github.com/agentplexus/release-agent-team/blob/main/CHANGELOG.md) for the complete list of changes.
